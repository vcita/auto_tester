# Events Teardown - Detailed Script

> **Status**: Generated
> **Last Updated**: 2026-01-27
> **Generated By**: Validation report fix

## Initial State

- Tests have been run
- Group event service exists (context: `event_group_service_name`)
- Test client exists (context: `event_client_name`)

## Actions

### Step 1: Delete Test Client

- **Action**: Call function
- **Function**: delete_client

Uses context values:
- `event_client_name` or `created_client_name`
- `event_client_id` or `created_client_id`

**VERIFIED PLAYWRIGHT CODE**:
```python
from tests._functions.delete_client.test import fn_delete_client

client_name = context.get("event_client_name") or context.get("created_client_name")
if client_name:
    print(f"  Teardown Step 1: Deleting test client: {client_name}...")
    try:
        fn_delete_client(page, context)
        print(f"    Client deleted: {client_name}")
    except Exception as e:
        print(f"    Warning: Could not delete client: {e}")
else:
    print("  Teardown Step 1: No client to delete (not in context)")
```

**Clears context**: `event_client_id`, `event_client_name`, `event_client_email`, `created_client_id`, `created_client_name`, `created_client_email`

### Step 2: Delete Group Event Service

- **Action**: Call function
- **Function**: delete_service

Uses context values:
- `event_group_service_name`

**VERIFIED PLAYWRIGHT CODE**:
```python
from tests._functions.delete_service.test import fn_delete_service

service_name = context.get("event_group_service_name")
if service_name:
    print(f"  Teardown Step 2: Deleting group event service: {service_name}...")
    try:
        # Set created_service_name so delete_service function can find it
        context["created_service_name"] = service_name
        fn_delete_service(page, context)
        print(f"    Service deleted: {service_name}")
    except Exception as e:
        print(f"    Warning: Could not delete service: {e}")
else:
    print("  Teardown Step 2: No service to delete (not in context)")
```

**Clears context**: `event_group_service_name`, `created_service_name` (if set)

## Success Verification

- Client is deleted from system
- Group event service is deleted from system
- All context variables cleared
